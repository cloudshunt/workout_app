extends layout

block main
  p This is the routine schedule setup page

  form(action="/routine-schedule-setup" method="post")
    if days.length > 0
      dl
        each day in days 
          dt 
            .day-header
              span Day #{day.dayNumber}:
              button(type="submit" name="action" value=`remove_day_${day.dayNumber}` class="trash-btn")
                img(src="/images/icon_delete.png" alt="Remove")
          each session, index in day.sessionName
            dd
              label(for=`day${day.dayNumber}_session${index + 1}_field`) Session Name:
              input(type="text"
                    id=`day${day.dayNumber}_session${index + 1}_field`
                    name=`day${day.dayNumber}_session${index + 1}_field`
                    value=session || '')

    else
      p There are no days available to display, click "Add a day" to get started.

    fieldset.actions
      input(type="submit" value="Add a day" name="action") 

    fieldset.actions
      if days.length > 0
        input(type="submit" value="Back" name="action") 
        input(type="submit" value="Save" name="action")
        input(type="submit" value="Save & Next" name="action")
        input(type="submit" value="Discard" name="action")
      else 
        input(type="submit" value="Back" name="action") 
        input(type="submit" value="Discard" name="action")

  //- Pagination Links
  nav.pagination
    if currentPage > 1
      a(href=`/routine-schedule-setup?page=${currentPage - 1}`) Previous
    | Page #{currentPage} of #{totalPages}
    if currentPage < totalPages
      a(href=`/routine-schedule-setup?page=${currentPage + 1}`) Next
